<!doctype html>
<html lang="es-MX">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="icon" type="image/png" href="favicon.png">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="css/font-icons.css">
	<link rel="stylesheet" href="coppel.css">

	<title>Coberflex Coppel</title>
</head>
<body>
	<!-- Image and text -->
	<nav class="navbar navbar-light bg-light fixed-top mb-5">
		<div class="container">
			<a class="navbar-brand" href="/">
				<img src="https://lemus-dev.web.app/assets/img/logo_coppel.svg" height="42" class="d-inline-block align-top" alt="" loading="lazy">
			</a>
			<a href="https://www.coppel.com/">Volver a coppel.com</a>
		</div>
		<button type="button" class="btn btn-primary"><img src="car.png" class="img-fluid"> (<span class="total-count"></span>)</button>
		<button class="clear-cart btn btn-danger"><img src="trash.png" class="img-fluid"></button>
	</nav>

	<div class="clearfix mt-5 mb-5"></div>
	<hr>

	<div class="container-copp mb-5">
		<h3 class="text-center mt-5">Plan Básico</h3>

		<div class="row">
			<div class="col-md-4">
				<div class="card mb-3 p-3 servicios-title height2">
					<div class="text-center title-service">Adulto</div>
					<center><img src="adultos.jpg" class="img-fluid"></center>
					<div class="card-body text-secondary">
						<p class="card-text"><b>Cobertura salud:</b> Indemnización por gastos de accidente u hospitalización por enfermedad ($50,000)
						</p>
						<p class="card-text"><b>Cobertura prevención:</b> - Check up Laboratorio básico<br>
							(EGO Biometría, Química Sanguínea 6 Elementos)<br>
							- Asistencia médica telefónica / Videoconsulta<br>
							- Plan dental (Examen oral y limpieza)
						</p>
						<p class="card-text"><b>Cobertura protección:</b> Muerte accidental ($50,000)</p>
					</div>
					<center><a href="javascript:void(0);" onclick="window.scroll(0,700);" data-name="Adulto" data-price="100" class="add-to-cart btn btn-primary adulto">Agregar al carrito</a></center>
				</div>
			</div>

			<div class="col-md-4">
				<div class="card mb-3 p-3 servicios-title height2">
					<div class="text-center title-service">Familia</div>
					<center><img src="familia.jpg" class="img-fluid"></center>
					<div class="card-body text-secondary">
						<p class="card-text"><b>Cobertura salud:</b> Indemnización por gastos de accidente u hospitalización por enfermedad ($50,000)</p>
						<p class="card-text"><b>Cobertura prevención:</b> - Check up Laboratorio básico<br>
							(EGO, Biometría, Química Sanguínea 6 Elementos)<br>
							- Asistencia médica telefónica / Videoconsulta<br>
						- Asistencia educacional y psicológica</p>
						<p class="card-text"><b>Cobertura protección:</b> - Muerte accidental ($50,000)<br>- Accidentes Infantiles ($25,000)</p>

					</div>
					<center><a href="#" data-name="Familia" data-price="100" class="add-to-cart btn btn-primary familia">Agregar al carrito</a></center>
				</div>
			</div>

			<div class="col-md-4">
				<div class="card mb-3 p-3 servicios-title height2">
					<div class="text-center title-service">Senior</div>
					<center><img src="seniorb.jpg" class="img-fluid"></center>
					<div class="card-body text-secondary">
						<p class="card-text"><b>Cobertura salud:</b> Indemnización por gastos de accidente o Rotura de huesos ($50,000)</p>
						<p class="card-text"><b>Cobertura prevención:</b>-Check up Laboratorio básico<br>
							(EGO, Biometría, Química Sanguínea 6 Elementos)<br>
							- Asistencia médica telefónica / Videoconsulta<br>
							- Médico o enfermera a domicilio<br>
						- Ambulancia</p>
						<p class="card-text"><b>Cobertura protección:</b> - Muerte accidental ($50,000)</p>

					</div>
					<center><a href="#" data-name="Senior" data-price="100" class="add-to-cart btn btn-primary senior">Agregar al carrito</a></center>
				</div>
			</div>

		</div>

	</div>


	<div class="container-copp" id="cart">
		<!-- Modal -->
		<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Detalles de la compra</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<table class="show-cart table">

						</table>
						<div>Total: $<span class="total-cart"></span></div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
					</div>
				</div>
			</div>
		</div>
		<center><a href="carrito.html" class="btn btn-primary mb-5 basicocar disabled">Ver carrito</a></center>

	</div>

	<footer>
		<p class="pfooter text-center">El seguro de hospitalización y de apoyo por fallecimiento es otorgado y amparado por XXXXXX<br>
			Los servicios de asistencia son otorgados y amparados por TM-Assistance S.A. de C.V.<br>
			La intermediación y colocación del programa es realizado por TM-Assistance S.A. de C.V., quien garantiza que el seguro que está integrando cuenta con la autorización correspondiente de la<br>Comisión Nacional de Seguros y Fianzas.</p>
			<p class="text-center">
				<a class="blc" href="">Aviso de privacidad </a> <a class="blc" href=""> Términos y condiciones </a>
			</p>
		</footer>

		<!-- Optional JavaScript; choose one of the two! -->

		<!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
		<script type="text/javascript">
		// ************************************************
// Shopping Cart API
// ************************************************

var shoppingCart = (function () {
  // =============================
  // Private methods and propeties
  // =============================
  cart = [];

  // Constructor
  function Item(name, price, count) {
  	this.name = name;
  	this.price = price;
  	this.count = count;
  }

  // Save cart
  function saveCart() {
  	sessionStorage.setItem("shoppingCart", JSON.stringify(cart));
  }

  // Load cart
  function loadCart() {
  	cart = JSON.parse(sessionStorage.getItem("shoppingCart"));
  }
  if (sessionStorage.getItem("shoppingCart") != null) {
  	loadCart();
  }

  // =============================
  // Public methods and propeties
  // =============================
  var obj = {};

  // Add to cart
  obj.addItemToCart = function (name, price, count) {
  	for (var item in cart) {
  		if (cart[item].name === name) {
  			cart[item].count++;
  			saveCart();
  			return;
  		}
  	}
  	var item = new Item(name, price, count);
  	cart.push(item);
  	saveCart();
  };
  // Set count from item
  obj.setCountForItem = function (name, count) {
  	for (var i in cart) {
  		if (cart[i].name === name) {
  			cart[i].count = count;
  			break;
  		}
  	}
  };
  // Remove item from cart
  obj.removeItemFromCart = function (name) {
  	for (var item in cart) {
  		if (cart[item].name === name) {
  			cart[item].count--;
  			if (cart[item].count === 0) {
  				cart.splice(item, 1);
  			}
  			break;
  		}
  	}
  	saveCart();
  };

  // Remove all items from cart
  obj.removeItemFromCartAll = function (name) {
  	for (var item in cart) {
  		if (cart[item].name === name) {
  			cart.splice(item, 1);
  			break;
  		}
  	}
  	saveCart();
  };

  // Clear cart
  obj.clearCart = function () {
  	cart = [];
  	saveCart();
  };

  // Count cart
  obj.totalCount = function () {
  	var totalCount = 0;
  	for (var item in cart) {
  		totalCount += cart[item].count;
  	}
  	return totalCount;
  };

  // Total cart
  obj.totalCart = function () {
  	var totalCart = 0;
  	for (var item in cart) {
  		totalCart += cart[item].price * cart[item].count;
  	}
  	return Number(totalCart.toFixed(2));
  };

  // List cart
  obj.listCart = function () {
  	var cartCopy = [];
  	for (i in cart) {
  		item = cart[i];
  		itemCopy = {};
  		for (p in item) {
  			itemCopy[p] = item[p];
  		}
  		itemCopy.total = Number(item.price * item.count).toFixed(2);
  		cartCopy.push(itemCopy);
  	}
  	return cartCopy;
  };

  // cart : Array
  // Item : Object/Class
  // addItemToCart : Function
  // removeItemFromCart : Function
  // removeItemFromCartAll : Function
  // clearCart : Function
  // countCart : Function
  // totalCart : Function
  // listCart : Function
  // saveCart : Function
  // loadCart : Function
  return obj;
})();

// *****************************************
// Triggers / Events
// *****************************************
// Add item
$(".add-to-cart").click(function (event) {
	event.preventDefault();
	var name = $(this).data("name");
	var price = Number($(this).data("price"));
	shoppingCart.addItemToCart(name, price, 1);
	displayCart();
});

// Clear items
$(".clear-cart").click(function () {
	shoppingCart.clearCart();
	displayCart();
});

function displayCart() {
	var cartArray = shoppingCart.listCart();
	var output = "";
	for (var i in cartArray) {
		output +=
		"<tr>" +
		"<td>" +
		cartArray[i].name +
		"</td>" +
		"<td style='margin-left:50px;'>$" +
		cartArray[i].total +
		"</td>" +
		"<td><a class='delete-item' data-name=" +
		cartArray[i].name +
		"><img src='trash2.png' width='20'></a></td>" +
		" = " +
		
		"</tr>";
	}
	$(".show-cart").html(output);
	$(".total-cart").html(shoppingCart.totalCart());
	$(".total-count").html(shoppingCart.totalCount());
}

// Delete item button

$(".show-cart").on("click", ".delete-item", function (event) {
	var name = $(this).data("name");
	shoppingCart.removeItemFromCartAll(name);
	displayCart();
});

// -1
$(".show-cart").on("click", ".minus-item", function (event) {
	var name = $(this).data("name");
	shoppingCart.removeItemFromCart(name);
	displayCart();
});
// +1
$(".show-cart").on("click", ".plus-item", function (event) {
	var name = $(this).data("name");
	shoppingCart.addItemToCart(name);
	displayCart();
});

// Item count input
$(".show-cart").on("change", ".item-count", function (event) {
	var name = $(this).data("name");
	var count = Number($(this).val());
	shoppingCart.setCountForItem(name, count);
	displayCart();
});

// Delete item button

displayCart();
</script>

<script type="text/javascript">
	$("a").click(function(){
		$(".add-to-cart").addClass("disabled");
	});
</script>

<script type="text/javascript">
	$(".adulto").click(function(){
		$(".basicocar").removeClass("disabled");
	});

	$(".familia").click(function(){
		$(".basicocar").removeClass("disabled");
	});

	$(".senior").click(function(){
		$(".basicocar").removeClass("disabled");
	});
</script>

<script type="text/javascript">
	$(".habilitar").click(function(){
		$(".add-to-cart").removeClass("disabled");
	});
</script>

    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
-->
</body>
</html>